{% set title = "Drafts"%}
{% extends 'layout.html' %} {% block page_content %}

<style>
    .post-drafts ul {
        list-style: none;
    }

    .nav-item .navbar-link.active {
        border-top: 0 solid #280966 !important;
        border-right: 0 solid #280966 !important;
        border-left: 0 solid #280966 !important;
        border-bottom: 4px solid #280966 !important;
        border-top-left-radius: 0 !important;
        border-top-right-radius: 0 !important;
    }

    .post-drafts .nav-item a {
        color: #5c5c5c;
        -webkit-transition: all ease-in .3s;
        transition: all ease-in .3s;
        font-size: 20px;
    }

    .post-drafts .nav-item a:hover {
        color: #280a66;
        text-decoration: none;
        -webkit-transition: all ease-in .3s;
        transition: all ease-in .3s;
    }

    .post-drafts .nav-item a .active {
        color: #280a66;

    }


    .post-drafts .nav-bar {
        border-bottom: 1px solid #a4a4a4;
    }

    .post-drafts .post-title a {
        color: #1b1b1b;
        -webkit-transition: all ease-in .3s;
        transition: all ease-in .3s;
    }

    .post-drafts .post-title a:hover {
        color: #280a66;
        text-decoration: none;
        -webkit-transition: all ease-in .3s;
        transition: all ease-in .3s;
    }

    .post-drafts .post-author {
        font-weight: 700;
        color: #280a66;
    }

    .post-drafts .post-content-summary {
        color: #717171;
        font-size: 14px;
    }

    .post-drafts .post-date {
        color: #717171;
        font-size: 10px;
    }

    .post-drafts .post-comment a {
        font-size: 11px;
        color: #280a66;
        font-weight: 700;
        -webkit-transition: all ease-in .3s;
        transition: all ease-in .3s;
    }

    .post-drafts .post-comment a:hover {
        color: #471aa1;
        text-decoration: none;
        -webkit-transition: all ease-in .3s;
        transition: all ease-in .3s;
    }

    .post-drafts .post-item:after {
        content: "";
        display: block;
        position: relative;
        width: 120%;
        border-bottom: 1px solid #ebebeb;
    }

    .post-drafts .dropdown-menu {
        position: relative;
        margin-top: 2em;
        margin-left: -2.5em;
    }

    .post-drafts .dropdown-icon {
        font-size: 30px;
        margin-left: -30px;
    }


    .post-drafts .dropdown-btn-link {
        font-size: 15px;
        color: #280a66;
        -webkit-transition: all ease-in .3s;
        transition: all ease-in .3s;
    }

    .post-drafts .dropdown-btn-link:hover {
        text-decoration: none;
        -webkit-transition: all ease-in .3s;
        transition: all ease-in .3s;
    }

    .post-drafts .edit-post {
        color: black;
    }

    .post-drafts .edit-post:active:active {
        color: #fff;
    }

    .post-drafts .edit-post:hover {
        color: black;
        text-decoration: none;
    }

    /*------------------------------------------------------
    MODAL STYLE
    ----------------------------------------------------*/
    .no-border {
        border: none;
    }

    .modal-content {
        border-radius: .7rem;
    }

    .modal-header .close {
        opacity: 1;
    }

    .cancel-modal-text {
        font-size: 1.1rem;
        margin-bottom: 0;
        margin-top: 1.2rem;
    }

    .btn.btn-primary.canel-post {
        background-color: transparent !important;
        border: 1px solid red;
        color: red;
        padding: 6px 20px;
    }

    .btn.btn-primary.publish-post {
        background-color: #280a66 !important;
        border: 1px solid #280a66;
        padding: 6px 20px;
    }

    .btn.btn-primary.canel-post,
    .btn.btn-primary.publish-post {
        margin-left: 15px;
    }

    /*------------------------------------------------------
    MODAL STYLE
    ----------------------------------------------------*/

    @media screen and (max-width:700px) {
        .post-drafts .post-item:after {
            content: "";
            display: block;
            position: relative;
            width: 90%;
            border-bottom: 1px solid #ebebeb;
        }

        .post-drafts .dropdown-menu {
            position: relative;
            margin-top: 2em;
            margin-left: -6em;
        }

    }

    @media screen and (max-width:900px) {
        .post-drafts .dropdown-menu {
            position: relative;
            margin-top: 2em;
            margin-left: -6em;
        }

    }
</style>

<div class="container-fluid post-drafts">
    <div class="row">
        <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12 the-sidebar">

        </div>


        <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12 mt-5 pt-2">
            <div class="nav-bar row mt-3">
                <ul class="col-12 d-flex justify-content-start mb-0 pb-0">
                    <li class="nav-item mr-5 pb-0 mb-0">
                        <a href="/published-posts" class="navbar-link ">Published</a>
                    </li>
                    <li class="nav-item mr-5 pb-0 mb-0"><a href="#" class="active navbar-link">Drafts</a></li>
                </ul>
            </div>
            {% for key, draft in drafts %}
            <div class="row draft-starts-here">
                <div class="col-10 mt-5">
                    <div class="post-item mt-3">
                        <p class="post-author">{{draft.site | raw}}</p>

                        <h4 class="post-title">
                            <a href="#">
                                {{draft.title | raw}}
                            </a>
                        </h4>

                        <p class="post-content-summary">
                            {{draft.body | raw}}
                        </p>
                        <div class="row">
                            <p class="post-date mb-4 col-12 d-flex justify-content-start">{{draft.timestamp | raw}}</p>
                        </div>
                    </div>

                </div>

                <div class="dropdown col-2" style="cursor:pointer">
                    <span class="dropdown-toggle dropdown-icon " aria-haspopup="true" aria-expanded="false"
                        data-toggle="dropdown">
                    </span>
                    <div class="dropdown-menu">
                        <button class="dropdown-item"> <a href="\editor" class="edit-post">Edit post</a></button>
                        <button class="dropdown-item" data-toggle="modal" data-target="#cancelModal">Delete
                            post</button>
                    </div>
                </div>

            </div>


            {% endfor %}
        </div>
    </div>
    <!-- using semantic tags -->
    <!-- modal begins here -->
    <div id="cancelModal" class="modal fade" role="dialog">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content no-border">
                <div class="modal-header no-border">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body no-border">
                    <img src="/resources/themes/ghost/assets/img/cancel-post-modal.png"
                        class="img-fluid mx-auto d-block dialog-img" alt="cancel post image">
                    <p class="cancel-modal-text text-center font-weight-bold">Do you want to delete this post?</p>
                </div>
                <div class="modal-footer no-border mx-auto d-block">

                    <button class="btn btn-primary canel-post">Delete</button>
                </div>

            </div>
        </div>
    </div>
    <!-- modal ends here -->
</div>

{% endblock page_content %}